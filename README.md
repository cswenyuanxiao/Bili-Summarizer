# ğŸ¬ Bili-Summarizer

> AI è§†é¢‘æ€»ç»“åŠ©æ‰‹ - ä¸€é”®è·å– Bilibili è§†é¢‘çš„æ™ºèƒ½æ€»ç»“ã€æ€ç»´å¯¼å›¾å’Œå®Œæ•´è½¬å½•

[![Deploy on Railway](https://railway.app/button.svg)](https://railway.app/template)

---

## âœ¨ æ ¸å¿ƒåŠŸèƒ½

- ğŸ¤– **AI æ™ºèƒ½æ€»ç»“** - ä½¿ç”¨ Google Gemini 2.0 Flash æ¨¡å‹åˆ†æè§†é¢‘å†…å®¹
- ğŸ§  **æ€ç»´å¯¼å›¾** - è‡ªåŠ¨ç”Ÿæˆ Mermaid æ ¼å¼çš„çŸ¥è¯†ç»“æ„å›¾
- ğŸ“œ **å®Œæ•´è½¬å½•** - æå–è§†é¢‘å­—å¹•æˆ–é€šè¿‡ AI åˆ†æç”»é¢
- ğŸ’¬ **AI è¿½é—®** - åŸºäºè§†é¢‘å†…å®¹çš„æ™ºèƒ½é—®ç­”
- ğŸ¬ **è§†é¢‘å›æ”¾** - ç‚¹å‡»å°é¢å³å¯åœ¨çº¿è§‚çœ‹åŸè§†é¢‘
- ğŸŒ™ **æš—è‰²æ¨¡å¼** - æ”¯æŒäº®è‰²/æš—è‰²ä¸»é¢˜åˆ‡æ¢
- ğŸ“± **å“åº”å¼è®¾è®¡** - å®Œç¾é€‚é…æ¡Œé¢å’Œç§»åŠ¨è®¾å¤‡
- ğŸ“¥ **å¤šæ ¼å¼å¯¼å‡º** - æ”¯æŒ Markdownã€TXTã€SVGã€PNG

---

## ğŸš€ å¿«é€Ÿå¼€å§‹

### æ–¹æ¡ˆ 1: Dockerï¼ˆæ¨èï¼‰

```bash
# 1. å…‹éš†ä»“åº“
git clone https://github.com/ä½ çš„ç”¨æˆ·å/bili-summarizer.git
cd bili-summarizer

# 2. åˆ›å»º .env æ–‡ä»¶
echo "GOOGLE_API_KEY=ä½ çš„å¯†é’¥" > .env

# 3. å¯åŠ¨æœåŠ¡
docker-compose up -d

# 4. è®¿é—®åº”ç”¨
open http://localhost:7860
```

### æ–¹æ¡ˆ 2: æœ¬åœ°å¼€å‘

```bash
# 1. å®‰è£…ä¾èµ–
pip install -r requirements.txt

# 2. é…ç½®ç¯å¢ƒå˜é‡
export GOOGLE_API_KEY="ä½ çš„å¯†é’¥"

# 3. å¯åŠ¨æœåŠ¡
uvicorn web_app.main:app --reload --port 7860
```

---

## â˜ï¸ äº‘ç«¯éƒ¨ç½²

### Railwayï¼ˆå…è´¹ï¼Œæ¨èï¼‰

1. ç‚¹å‡» [![Deploy on Railway](https://railway.app/button.svg)](https://railway.app/)
2. è¿æ¥ GitHub ä»“åº“
3. æ·»åŠ ç¯å¢ƒå˜é‡ `GOOGLE_API_KEY`
4. è‡ªåŠ¨éƒ¨ç½²å®Œæˆ

### Render / Fly.io

è¯¦è§ [DEPLOYMENT.md](./DEPLOYMENT.md)

---

## ğŸ“‹ ç¯å¢ƒå˜é‡

| å˜é‡å | è¯´æ˜ | è·å–æ–¹å¼ |
|--------|------|----------|
| `GOOGLE_API_KEY` | Google Gemini API å¯†é’¥ | [Google AI Studio](https://aistudio.google.com/app/apikey) |

---

## ğŸ¯ ä½¿ç”¨æ–¹æ³•

1. **è¾“å…¥è§†é¢‘é“¾æ¥**
   ```
   https://www.bilibili.com/video/BV1xx411c7mD
   ```

2. **é€‰æ‹©åˆ†ææ¨¡å¼**
   - **æ™ºèƒ½æ¨¡å¼**ï¼šä¼˜å…ˆä½¿ç”¨å­—å¹•ï¼ˆå¿«é€Ÿï¼‰
   - **è§†é¢‘æ¨¡å¼**ï¼šAI åˆ†æç”»é¢ï¼ˆæ·±åº¦ï¼‰

3. **é€‰æ‹©åˆ†æè§†è§’**
   - ç»¼åˆæ€»ç»“
   - æ·±åº¦å­¦ä¹ 
   - è¶£å‘³äº’åŠ¨
   - å•†ä¸šæ´å¯Ÿ

4. **æŸ¥çœ‹ç»“æœ**
   - ğŸ“ æ™ºèƒ½æ€»ç»“
   - ğŸ§  æ€ç»´å¯¼å›¾
   - ğŸ“œ è§†é¢‘è½¬å½•
   - ğŸ¬ ç‚¹å‡»å°é¢æ’­æ”¾è§†é¢‘
   - ğŸ’¬ å‘ AI è¿½é—®

---

## ğŸ› ï¸ æŠ€æœ¯æ ˆ

**åç«¯**
- FastAPI - é«˜æ€§èƒ½ Web æ¡†æ¶
- Google Gemini 2.0 Flash - AI æ¨¡å‹
- yt-dlp - è§†é¢‘ä¸‹è½½
- httpx - HTTP å®¢æˆ·ç«¯

**å‰ç«¯**
- Vanilla JavaScript - æ— æ¡†æ¶ä¾èµ–
- Mermaid.js - æ€ç»´å¯¼å›¾æ¸²æŸ“
- Marked.js - Markdown è§£æ
- Inter Font - ç°ä»£å­—ä½“

**åŸºç¡€è®¾æ–½**
- Docker - å®¹å™¨åŒ–
- Nginx (å¯é€‰) - åå‘ä»£ç†

---

## ğŸ“‚ é¡¹ç›®ç»“æ„

```
bili-summarizer/
â”œâ”€â”€ web_app/
â”‚   â”œâ”€â”€ main.py              # FastAPI ä¸»åº”ç”¨
â”‚   â”œâ”€â”€ downloader.py        # è§†é¢‘ä¸‹è½½æ¨¡å—
â”‚   â”œâ”€â”€ summarizer_gemini.py # AI æ€»ç»“æ¨¡å—
â”‚   â”œâ”€â”€ templates/           # HTML æ¨¡æ¿
â”‚   â”‚   â””â”€â”€ index.html      # ä¸»é¡µé¢
â”‚   â””â”€â”€ static/             # é™æ€èµ„æº
â”‚       â””â”€â”€ script.js       # å‰ç«¯é€»è¾‘
â”œâ”€â”€ Dockerfile              # Docker é•œåƒé…ç½®
â”œâ”€â”€ docker-compose.yml      # Docker Compose é…ç½®
â”œâ”€â”€ requirements.txt        # Python ä¾èµ–
â”œâ”€â”€ deploy.sh              # å¿«é€Ÿéƒ¨ç½²è„šæœ¬
â”œâ”€â”€ DEPLOYMENT.md          # éƒ¨ç½²æ–‡æ¡£
â””â”€â”€ README.md              # æœ¬æ–‡ä»¶
```

---

## ğŸ”§ é…ç½®è¯´æ˜

### ä½¿ç”¨ä»£ç†ï¼ˆå¦‚é‡ä¸‹è½½å¤±è´¥ï¼‰

ç¼–è¾‘ `web_app/downloader.py`ï¼š

```python
ydl_opts = {
    'proxy': 'http://your-proxy:port',
    # ...
}
```

### ä¿®æ”¹ç«¯å£

ç¼–è¾‘ `docker-compose.yml`ï¼š

```yaml
ports:
  - "8080:7860"  # å·¦ä¾§æ”¹ä¸ºæ‚¨æƒ³è¦çš„ç«¯å£
```

---

## ğŸ› å¸¸è§é—®é¢˜

### Q: è§†é¢‘ä¸‹è½½å¤±è´¥ï¼ˆ403 é”™è¯¯ï¼‰

**A:** B ç«™å¯èƒ½é™åˆ¶äº†æ‚¨çš„ IPï¼Œå°è¯•ï¼š
1. ä½¿ç”¨ä»£ç†
2. é™ä½è¯·æ±‚é¢‘ç‡
3. åˆ‡æ¢ç½‘ç»œç¯å¢ƒ

### Q: å°é¢åŠ è½½å¤±è´¥

**A:** å·²å®ç°åç«¯å›¾ç‰‡ä»£ç†ï¼Œå¦‚ä»å¤±è´¥è¯·æ£€æŸ¥ç½‘ç»œè¿æ¥ã€‚

### Q: AI åˆ†æè¶…æ—¶

**A:** è§†é¢‘è¿‡é•¿æˆ–ç½‘ç»œä¸ç¨³å®šï¼Œå»ºè®®ï¼š
1. ä½¿ç”¨å­—å¹•æ¨¡å¼ï¼ˆæ›´å¿«ï¼‰
2. æ£€æŸ¥ API å¯†é’¥é…é¢
3. é‡è¯•è¯·æ±‚

### Q: éƒ¨ç½²åˆ°äº‘ç«¯åçˆ¬å–å¤±è´¥

**A:** äº‘æœåŠ¡å™¨ IP å¯èƒ½è¢« B ç«™é™åˆ¶ï¼Œå¯ä»¥ï¼š
1. ä½¿ç”¨ä»£ç†æ± 
2. é™ä½è¯·æ±‚é¢‘ç‡
3. è”ç³»äº‘æœåŠ¡å•†æ›´æ¢ IP

---

## ğŸ¤ è´¡çŒ®

æ¬¢è¿æäº¤ Issue å’Œ Pull Requestï¼

1. Fork æœ¬ä»“åº“
2. åˆ›å»ºç‰¹æ€§åˆ†æ”¯ (`git checkout -b feature/AmazingFeature`)
3. æäº¤æ›´æ”¹ (`git commit -m 'Add some AmazingFeature'`)
4. æ¨é€åˆ†æ”¯ (`git push origin feature/AmazingFeature`)
5. å¼€å¯ Pull Request

---

## ğŸ“„ å¼€æºåè®®

æœ¬é¡¹ç›®é‡‡ç”¨ MIT åè®® - è¯¦è§ [LICENSE](LICENSE) æ–‡ä»¶

---

## ğŸ™ è‡´è°¢

- [Google Gemini](https://ai.google.dev/) - AI æ¨¡å‹æ”¯æŒ
- [yt-dlp](https://github.com/yt-dlp/yt-dlp) - è§†é¢‘ä¸‹è½½å·¥å…·
- [Mermaid](https://mermaid.js.org/) - æ€ç»´å¯¼å›¾æ¸²æŸ“
- [FastAPI](https://fastapi.tiangolo.com/) - Web æ¡†æ¶

---

## ğŸ“® è”ç³»æ–¹å¼

å¦‚æœ‰é—®é¢˜æˆ–å»ºè®®ï¼Œæ¬¢è¿é€šè¿‡ GitHub Issues è”ç³»æˆ‘ä»¬ã€‚

**â­ å¦‚æœè¿™ä¸ªé¡¹ç›®å¯¹æ‚¨æœ‰å¸®åŠ©ï¼Œè¯·ç»™ä¸ª Starï¼**
