/* 
 * UI/UX 优化补丁
 * 优化暗色模式对比度和统一过渡时长
 */

/* 暗色模式文字对比度优化 */
.dark .text-gray-400 {
    color: rgb(209 213 219) !important;
    /* gray-300 */
}

/* 统一过渡时长 - 使用新的动画系统 */
.transition-all {
    transition-property: all;
    transition-timing-function: var(--ease-default, cubic-bezier(0.4, 0, 0.2, 1));
    transition-duration: var(--duration-normal, 200ms);
}

/* 按钮禁用状态优化 */
button:disabled,
.btn-primary:disabled,
.btn-ghost:disabled {
    cursor: not-allowed;
    opacity: 0.5;
    filter: grayscale(0.3);
}

/* 输入框聚焦环改进 */
input:focus-visible,
textarea:focus-visible,
select:focus-visible {
    outline: 2px solid var(--primary);
    outline-offset: 2px;
    box-shadow: 0 0 0 4px var(--primary-light);
}

/* 卡片悬浮效果统一 */
.page-card:hover,
.card-hover-elevate:hover {
    box-shadow: var(--shadow-xl);
    transition: all var(--duration-normal) var(--ease-default);
}

/* 骨架屏优化 */
.skeleton {
    background: linear-gradient(90deg,
            rgb(243 244 246) 0%,
            rgb(229 231 235) 50%,
            rgb(243 244 246) 100%);
    background-size: 200% 100%;
    animation: shimmer 1.5s ease-in-out infinite;
}

.dark .skeleton {
    background: linear-gradient(90deg,
            rgb(30 41 59) 0%,
            rgb(51 65 85) 50%,
            rgb(30 41 59) 100%);
    background-size: 200% 100%;
}

/* 加载状态按钮 */
.btn-loading {
    position: relative;
    pointer-events: none;
    opacity: 0.7;
}

.btn-loading::after {
    content: '';
    position: absolute;
    width: 16px;
    height: 16px;
    top: 50%;
    left: 50%;
    margin-left: -8px;
    margin-top: -8px;
    border-radius: 50%;
    border: 2px solid currentColor;
    border-top-color: transparent;
    animation: spin 0.6s linear infinite;
}

/* 图标统一尺寸 */
.icon-sm {
    width: 1rem;
    height: 1rem;
    stroke-width: 2;
}

.icon-md {
    width: 1.25rem;
    height: 1.25rem;
    stroke-width: 2;
}

.icon-lg {
    width: 1.5rem;
    height: 1.5rem;
    stroke-width: 1.5;
}

/* 平滑滚动 */
html {
    scroll-behavior: smooth;
}

@media (prefers-reduced-motion: reduce) {
    html {
        scroll-behavior: auto;
    }

    *,
    *::before,
    *::after {
        animation-duration: 0.01ms !important;
        animation-iteration-count: 1 !important;
        transition-duration: 0.01ms !important;
    }
}

/* 焦点可见性改进 */
*:focus:not(:focus-visible) {
    outline: none;
}

*:focus-visible {
    outline: 2px solid var(--primary);
    outline-offset: 2px;
}

/* 选择文本样式 */
::selection {
    background-color: var(--primary-light);
    color: var(--primary);
}

/* 深色模式滚动条优化 */
.dark ::-webkit-scrollbar {
    width: 8px;
    height: 8px;
}

.dark ::-webkit-scrollbar-track {
    background: rgb(15 23 42);
}

.dark ::-webkit-scrollbar-thumb {
    background: rgb(51 65 85);
    border-radius: 4px;
}

.dark ::-webkit-scrollbar-thumb:hover {
    background: rgb(71 85 105);
}